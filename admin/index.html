<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UmoKet - Interface d'Administration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .page { display: none; }
        .page.active { display: block; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal.active { display: flex; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 2rem; border-radius: 0.5rem; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; }
        .close { position: absolute; top: 1rem; right: 1rem; font-size: 1.5rem; cursor: pointer; }
        .sidebar { width: 280px; position: fixed; left: 0; top: 0; height: 100vh; background: #1f2937; color: white; z-index: 100; overflow-y: auto; }
        .main-content { margin-left: 280px; min-height: 100vh; background: #f9fafb; }
        .stat-card { background: white; border-radius: 0.5rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .status-badge { padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600; }
        .status-pending { background: #fef3c7; color: #92400e; }
        .status-approved { background: #d1fae5; color: #065f46; }
        .status-rejected { background: #fee2e2; color: #991b1b; }
        .status-active { background: #dbeafe; color: #1e40af; }
        .status-suspended { background: #fde2e8; color: #be185d; }
        .table-container { background: white; border-radius: 0.5rem; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .table { width: 100%; }
        .table th { background: #f9fafb; padding: 0.75rem 1rem; text-align: left; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; }
        .table td { padding: 0.75rem 1rem; border-bottom: 1px solid #e5e7eb; }
        .table tr:hover { background: #f9fafb; }
        .btn { padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .btn-primary { background: #3b82f6; color: white; }
        .btn-primary:hover { background: #2563eb; }
        .btn-success { background: #10b981; color: white; }
        .btn-success:hover { background: #059669; }
        .btn-danger { background: #ef4444; color: white; }
        .btn-danger:hover { background: #dc2626; }
        .btn-warning { background: #f59e0b; color: white; }
        .btn-warning:hover { background: #d97706; }
        .btn-secondary { background: #6b7280; color: white; }
        .btn-secondary:hover { background: #4b5563; }
        .form-input { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; }
        .form-input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        .form-label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151; }
        .alert { padding: 1rem; border-radius: 0.375rem; margin-bottom: 1rem; }
        .alert-success { background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
        .alert-error { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .alert-warning { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
        .chart-container { background: white; border-radius: 0.5rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="p-6 border-b border-gray-700">
            <h1 class="text-xl font-bold text-orange-400">UmoKet Admin</h1>
            <p class="text-sm text-gray-300">Interface d'Administration</p>
        </div>
        
        <!-- Navigation -->
        <nav class="p-4">
            <div class="space-y-2">
                <button onclick="showPage('dashboard')" class="w-full text-left px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg flex items-center space-x-3 transition-colors">
                    <span>üìä</span>
                    <span>Tableau de Bord</span>
                </button>
                <button onclick="showPage('users')" class="w-full text-left px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg flex items-center space-x-3 transition-colors">
                    <span>üë•</span>
                    <span>Gestion des Utilisateurs</span>
                </button>
                <button onclick="showPage('kyc')" class="w-full text-left px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg flex items-center space-x-3 transition-colors">
                    <span>üîç</span>
                    <span>Validation KYC</span>
                </button>
                <button onclick="showPage('registrations')" class="w-full text-left px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg flex items-center space-x-3 transition-colors">
                    <span>üìù</span>
                    <span>Enregistrements</span>
                </button>
                <button onclick="showPage('statistics')" class="w-full text-left px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg flex items-center space-x-3 transition-colors">
                    <span>üìà</span>
                    <span>Statistiques</span>
                </button>
                <button onclick="showPage('benge-profile')" class="w-full text-left px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg flex items-center space-x-3 transition-colors">
                    <span>üè¢</span>
                    <span>Profil B√©ng√®</span>
                </button>
                <button onclick="showPage('admin-rights')" class="w-full text-left px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg flex items-center space-x-3 transition-colors">
                    <span>üîê</span>
                    <span>Droits Admin</span>
                </button>
            </div>
        </nav>
        
        <!-- Informations admin -->
        <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-700">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center">
                    <span class="text-white text-sm font-bold">A</span>
                </div>
                <div>
                    <p class="text-sm font-medium text-white" id="admin-name">Admin Test</p>
                    <p class="text-xs text-gray-400">Super Administrateur</p>
                </div>
            </div>
            <button onclick="logout()" class="w-full mt-3 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors">
                D√©connexion
            </button>
        </div>
    </div>

    <!-- Contenu principal -->
    <div class="main-content">
        <!-- Header -->
        <div class="bg-white shadow-sm border-b p-6">
            <div class="flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900" id="page-title">Tableau de Bord</h2>
                    <p class="text-gray-600" id="page-subtitle">Vue d'ensemble de l'application UmoKet</p>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-sm text-gray-500">
                        Derni√®re mise √† jour: <span id="last-update">Maintenant</span>
                    </div>
                    <button onclick="refreshData()" class="btn btn-secondary">
                        üîÑ Actualiser
                    </button>
                </div>
            </div>
        </div>

        <!-- Pages -->
        <div class="p-6">
            <!-- Page Tableau de Bord -->
            <div id="dashboard" class="page active">
                <!-- Statistiques principales -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Utilisateurs Totaux</p>
                                <p class="text-3xl font-bold text-gray-900" id="total-users">1,247</p>
                                <p class="text-sm text-green-600">+12% ce mois</p>
                            </div>
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üë•</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Vendeurs Actifs</p>
                                <p class="text-3xl font-bold text-gray-900" id="active-sellers">342</p>
                                <p class="text-sm text-green-600">+8% ce mois</p>
                            </div>
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üè™</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Commandes Totales</p>
                                <p class="text-3xl font-bold text-gray-900" id="total-orders">5,678</p>
                                <p class="text-sm text-green-600">+15% ce mois</p>
                            </div>
                            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üì¶</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Revenus Totaux</p>
                                <p class="text-3xl font-bold text-gray-900" id="total-revenue">45.2M FCFA</p>
                                <p class="text-sm text-green-600">+22% ce mois</p>
                            </div>
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üí∞</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Nouvelles m√©triques -->
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Demandes KYC</p>
                                <p class="text-3xl font-bold text-gray-900" id="pending-kyc">3</p>
                                <p class="text-sm text-orange-600">En attente</p>
                            </div>
                            <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üîç</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Nouveaux Comptes</p>
                                <p class="text-3xl font-bold text-gray-900" id="new-registrations">3</p>
                                <p class="text-sm text-blue-600">Aujourd'hui</p>
                            </div>
                            <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üìù</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Vendeurs en Difficult√©</p>
                                <p class="text-3xl font-bold text-gray-900" id="vendors-difficulty">3</p>
                                <p class="text-sm text-red-600">+25 jours sans vente</p>
                            </div>
                            <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">‚ö†Ô∏è</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Taux de Conversion</p>
                                <p class="text-3xl font-bold text-gray-900" id="conversion-rate">3.2%</p>
                                <p class="text-sm text-green-600">+0.5% vs mois dernier</p>
                            </div>
                            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üìà</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Graphiques -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="chart-container">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">√âvolution des Utilisateurs</h3>
                        <canvas id="usersChart" width="400" height="200"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Revenus Mensuels</h3>
                        <canvas id="revenueChart" width="400" height="200"></canvas>
                    </div>
                </div>

                <!-- Activit√©s r√©centes -->
                <div class="table-container">
                    <div class="p-6 border-b">
                        <h3 class="text-lg font-semibold text-gray-900">Activit√©s R√©centes</h3>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Heure</th>
                                <th>Utilisateur</th>
                                <th>Action</th>
                                <th>Type</th>
                                <th>Statut</th>
                            </tr>
                        </thead>
                        <tbody id="recent-activities">
                            <!-- Les activit√©s seront charg√©es dynamiquement -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Section vendeurs en difficult√© -->
                <div class="mt-8">
                    <div class="bg-red-50 border border-red-200 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <span class="text-2xl mr-3">‚ö†Ô∏è</span>
                            <div>
                                <h3 class="text-lg font-semibold text-red-800">Vendeurs en Difficult√©</h3>
                                <p class="text-red-600">Vendeurs sans ventes depuis plus de 25 jours</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4" id="vendors-in-difficulty">
                            <!-- Les vendeurs en difficult√© seront charg√©s dynamiquement -->
                        </div>
                        <div class="mt-4">
                            <button onclick="showVendorsInDifficultyModal()" class="btn btn-warning">
                                Voir tous les vendeurs en difficult√©
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Gestion des Utilisateurs -->
            <div id="users" class="page">
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold text-gray-900">Liste des Utilisateurs</h3>
                        <div class="flex space-x-3">
                            <input type="text" placeholder="Rechercher un utilisateur..." class="form-input w-64" id="user-search">
                            <select class="form-input w-40" id="user-filter">
                                <option value="">Tous les types</option>
                                <option value="buyer">Acheteurs</option>
                                <option value="seller">Vendeurs</option>
                                <option value="admin">Administrateurs</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Utilisateur</th>
                                <th>Email</th>
                                <th>Type</th>
                                <th>Plan</th>
                                <th>Statut</th>
                                <th>Inscription</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-table">
                            <!-- Les utilisateurs seront charg√©s dynamiquement -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Page Validation KYC -->
            <div id="kyc" class="page">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-900">Demandes de Validation KYC</h3>
                    <p class="text-gray-600">Validez les documents d'identit√© des vendeurs</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Liste des demandes -->
                    <div class="lg:col-span-1">
                        <div class="table-container">
                            <div class="p-4 border-b">
                                <h4 class="font-semibold text-gray-900">Demandes en attente</h4>
                            </div>
                            <div id="kyc-requests" class="divide-y">
                                <!-- Les demandes seront charg√©es dynamiquement -->
                            </div>
                        </div>
                    </div>

                    <!-- D√©tails de la demande s√©lectionn√©e -->
                    <div class="lg:col-span-2">
                        <div id="kyc-details" class="table-container">
                            <div class="p-6 text-center text-gray-500">
                                S√©lectionnez une demande pour voir les d√©tails
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Enregistrements -->
            <div id="registrations" class="page">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-900">Enregistrements R√©cents</h3>
                    <p class="text-gray-600">Validez les nouveaux comptes utilisateurs</p>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Email</th>
                                <th>Type</th>
                                <th>Ville</th>
                                <th>Date</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="registrations-table">
                            <!-- Les enregistrements seront charg√©s dynamiquement -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Page Statistiques -->
            <div id="statistics" class="page">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-900">Statistiques D√©taill√©es</h3>
                    <p class="text-gray-600">Analyses approfondies de l'activit√© de la plateforme</p>
                </div>

                <!-- M√©triques avanc√©es -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="stat-card">
                        <h4 class="text-sm font-medium text-gray-600 mb-2">Taux de Conversion</h4>
                        <p class="text-2xl font-bold text-gray-900">3.2%</p>
                        <p class="text-sm text-green-600">+0.5% vs mois dernier</p>
                    </div>
                    
                    <div class="stat-card">
                        <h4 class="text-sm font-medium text-gray-600 mb-2">Panier Moyen</h4>
                        <p class="text-2xl font-bold text-gray-900">28,500 FCFA</p>
                        <p class="text-sm text-green-600">+2,100 FCFA vs mois dernier</p>
                    </div>
                    
                    <div class="stat-card">
                        <h4 class="text-sm font-medium text-gray-600 mb-2">Vendeurs en Difficult√©</h4>
                        <p class="text-2xl font-bold text-gray-900">23</p>
                        <p class="text-sm text-red-600">Pas de ventes depuis 25+ jours</p>
                    </div>
                </div>

                <!-- Graphiques d√©taill√©s -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="chart-container">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">R√©partition par Type d'Utilisateur</h4>
                        <canvas id="userTypeChart" width="400" height="300"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">√âvolution des Commandes</h4>
                        <canvas id="ordersChart" width="400" height="300"></canvas>
                    </div>
                </div>
            </div>

            <!-- Page Profil B√©ng√® -->
            <div id="benge-profile" class="page">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-900">Gestion du Profil B√©ng√®</h3>
                    <p class="text-gray-600">G√©rez le profil vendeur officiel de l'entreprise B√©ng√®</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Informations du profil -->
                    <div class="table-container">
                        <div class="p-6">
                            <h4 class="text-lg font-semibold text-gray-900 mb-4">Informations du Profil</h4>
                            <form id="benge-profile-form">
                                <div class="space-y-4">
                                    <div>
                                        <label class="form-label">Nom de l'entreprise</label>
                                        <input type="text" class="form-input" value="B√©ng√®" readonly>
                                    </div>
                                    <div>
                                        <label class="form-label">Description</label>
                                        <textarea class="form-input" rows="4" id="benge-description">B√©ng√® est l'entreprise cr√©atrice d'UmoKet. Nous offrons des services de configuration de profil et de gestion communautaire pour aider les vendeurs √† optimiser leur pr√©sence sur la plateforme.</textarea>
                                    </div>
                                    <div>
                                        <label class="form-label">Services propos√©s</label>
                                        <textarea class="form-input" rows="3" id="benge-services">‚Ä¢ Configuration de profil UmoKet
‚Ä¢ Gestion communautaire
‚Ä¢ Support technique
‚Ä¢ Formation vendeurs</textarea>
                                    </div>
                                    <div>
                                        <label class="form-label">Contact</label>
                                        <input type="email" class="form-input" value="contact@benge.com" id="benge-contact">
                                    </div>
                                    <button type="submit" class="btn btn-primary">Mettre √† jour</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Statistiques du profil -->
                    <div class="table-container">
                        <div class="p-6">
                            <h4 class="text-lg font-semibold text-gray-900 mb-4">Statistiques du Profil</h4>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-600">Vues du profil</span>
                                    <span class="font-semibold">2,847</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-600">Services vendus</span>
                                    <span class="font-semibold">156</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-600">Note moyenne</span>
                                    <span class="font-semibold">4.9/5</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-600">Revenus g√©n√©r√©s</span>
                                    <span class="font-semibold">1,250,000 FCFA</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Droits Admin -->
            <div id="admin-rights" class="page">
                <div class="mb-6">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900">Gestion des Droits Administrateur</h3>
                            <p class="text-gray-600">Cr√©ez et g√©rez les profils administrateur</p>
                        </div>
                        <button onclick="showCreateAdminModal()" class="btn btn-primary">
                            + Nouvel Admin
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Email</th>
                                <th>R√¥le</th>
                                <th>Permissions</th>
                                <th>Derni√®re Connexion</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admins-table">
                            <!-- Les administrateurs seront charg√©s dynamiquement -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Modal de cr√©ation d'administrateur -->
    <div id="create-admin-modal" class="modal">
        <div class="modal-content relative">
            <span class="close" onclick="closeCreateAdminModal()">&times;</span>
            <h3 class="text-xl font-bold text-gray-900 mb-6">Cr√©er un Nouvel Administrateur</h3>
            
            <form id="create-admin-form">
                <div class="space-y-4">
                    <div>
                        <label class="form-label">Nom complet</label>
                        <input type="text" class="form-input" id="admin-name-input" required>
                    </div>
                    <div>
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="admin-email-input" required>
                    </div>
                    <div>
                        <label class="form-label">R√¥le</label>
                        <select class="form-input" id="admin-role-input" required>
                            <option value="">S√©lectionner un r√¥le</option>
                            <option value="super-admin">Super Administrateur</option>
                            <option value="admin">Administrateur</option>
                            <option value="moderator">Mod√©rateur</option>
                        </select>
                    </div>
                    <div>
                        <label class="form-label">Permissions</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2" value="users"> Gestion des utilisateurs
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2" value="kyc"> Validation KYC
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2" value="statistics"> Acc√®s aux statistiques
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2" value="admin-rights"> Gestion des droits admin
                            </label>
                        </div>
                    </div>
                    <div class="flex space-x-3 pt-4">
                        <button type="submit" class="btn btn-primary">Cr√©er</button>
                        <button type="button" onclick="closeCreateAdminModal()" class="btn btn-secondary">Annuler</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de d√©tails KYC -->
    <div id="kyc-details-modal" class="modal">
        <div class="modal-content relative">
            <span class="close" onclick="closeKycDetailsModal()">&times;</span>
            <div id="kyc-modal-content">
                <!-- Le contenu sera charg√© dynamiquement -->
            </div>
        </div>
    </div>

    <script>
        // √âtat de l'application admin
        let currentPage = 'dashboard';
        let currentAdmin = {
            name: 'Admin Test',
            email: 'admin@test.com',
            role: 'super-admin'
        };

        // Donn√©es simul√©es enrichies
        const mockData = {
            users: [
                { id: 1, name: 'Aminata Diallo', email: 'aminata@example.com', type: 'seller', plan: 'pro', status: 'active', registrationDate: '2024-01-15', lastLogin: '2024-02-22', totalOrders: 45, totalRevenue: 1250000 },
                { id: 2, name: 'Kofi Asante', email: 'kofi@example.com', type: 'seller', plan: 'basic', status: 'active', registrationDate: '2024-01-20', lastLogin: '2024-02-20', totalOrders: 23, totalRevenue: 680000 },
                { id: 3, name: 'Fatou Keita', email: 'fatou@example.com', type: 'buyer', plan: 'premium', status: 'active', registrationDate: '2024-02-01', lastLogin: '2024-02-21', totalOrders: 12, totalSpent: 450000 },
                { id: 4, name: 'Ibrahim Sow', email: 'ibrahim@example.com', type: 'buyer', plan: 'free', status: 'suspended', registrationDate: '2024-02-10', lastLogin: '2024-02-15', totalOrders: 3, totalSpent: 85000 },
                { id: 5, name: 'Mariam Coulibaly', email: 'mariam@example.com', type: 'seller', plan: 'pro', status: 'active', registrationDate: '2024-01-05', lastLogin: '2024-02-22', totalOrders: 67, totalRevenue: 1890000 },
                { id: 6, name: 'Ousmane Diop', email: 'ousmane@example.com', type: 'buyer', plan: 'pro', status: 'active', registrationDate: '2024-01-25', lastLogin: '2024-02-22', totalOrders: 28, totalSpent: 750000 }
            ],
            kycRequests: [
                { id: 1, userId: 2, name: 'Kofi Asante', status: 'pending', submittedDate: '2024-02-15', documents: ['id-card', 'business-license'], priority: 'high' },
                { id: 2, userId: 4, name: 'Ibrahim Sow', status: 'pending', submittedDate: '2024-02-18', documents: ['id-card'], priority: 'medium' },
                { id: 3, userId: 7, name: 'Aisha Traore', status: 'pending', submittedDate: '2024-02-19', documents: ['id-card', 'business-license'], priority: 'high' }
            ],
            registrations: [
                { id: 1, name: 'Marie Kone', email: 'marie@example.com', type: 'seller', city: 'Abidjan', date: '2024-02-20', status: 'pending', phone: '+225 07 12 34 56' },
                { id: 2, name: 'Ousmane Ba', email: 'ousmane@example.com', type: 'buyer', city: 'Dakar', date: '2024-02-21', status: 'pending', phone: '+221 77 123 45 67' },
                { id: 3, name: 'Fatoumata Diarra', email: 'fatoumata@example.com', type: 'seller', city: 'Bamako', date: '2024-02-22', status: 'pending', phone: '+223 70 12 34 56' }
            ],
            admins: [
                { id: 1, name: 'Admin Test', email: 'admin@test.com', role: 'super-admin', permissions: ['users', 'kyc', 'statistics', 'admin-rights'], lastLogin: '2024-02-22', status: 'active', createdDate: '2024-01-01' },
                { id: 2, name: 'Mod√©rateur 1', email: 'mod1@test.com', role: 'moderator', permissions: ['users', 'kyc'], lastLogin: '2024-02-20', status: 'active', createdDate: '2024-01-15' },
                { id: 3, name: 'Analyste Data', email: 'analyst@test.com', role: 'analyst', permissions: ['statistics'], lastLogin: '2024-02-19', status: 'active', createdDate: '2024-02-01' }
            ],
            statistics: {
                totalUsers: 1247,
                totalSellers: 342,
                totalBuyers: 905,
                totalOrders: 5678,
                totalRevenue: 45200000, // en FCFA
                monthlyGrowth: {
                    users: 12,
                    sellers: 8,
                    orders: 15,
                    revenue: 22
                },
                usersByPlan: {
                    free: 756,
                    basic: 234,
                    pro: 189,
                    premium: 68
                },
                ordersByStatus: {
                    pending: 45,
                    processing: 123,
                    shipped: 234,
                    delivered: 4876,
                    cancelled: 400
                },
                topCities: [
                    { name: 'Abidjan', users: 234, orders: 1234 },
                    { name: 'Dakar', users: 189, orders: 987 },
                    { name: 'Bamako', users: 156, orders: 756 },
                    { name: 'Ouagadougou', users: 134, orders: 654 },
                    { name: 'Lom√©', users: 98, orders: 432 }
                ],
                vendorsInDifficulty: [
                    { id: 8, name: 'Bakary Sanogo', lastSale: '2024-01-15', daysSinceLastSale: 38, totalProducts: 12 },
                    { id: 9, name: 'Awa Diallo', lastSale: '2024-01-20', daysSinceLastSale: 33, totalProducts: 8 },
                    { id: 10, name: 'Moussa Kone', lastSale: '2024-01-25', daysSinceLastSale: 28, totalProducts: 15 }
                ],
                recentActivities: [
                    { time: '14:32', user: 'Aminata Diallo', action: 'Nouvelle commande #5679', status: 'approved', type: 'order' },
                    { time: '14:28', user: 'Kofi Asante', action: 'Ajout produit "Tissu Kente"', status: 'pending', type: 'product' },
                    { time: '14:15', user: 'Fatou Keita', action: 'Demande de validation KYC', status: 'pending', type: 'kyc' },
                    { time: '14:10', user: 'Ibrahim Sow', action: 'Mise √† jour profil', status: 'approved', type: 'profile' },
                    { time: '14:05', user: 'Mariam Coulibaly', action: 'Nouveau post social', status: 'approved', type: 'social' }
                ]
            }
        };

        // Navigation
        function showPage(pageId) {
            // Cacher toutes les pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Afficher la page demand√©e
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                currentPage = pageId;
                updatePageHeader(pageId);
                loadPageData(pageId);
            }
        }

        function updatePageHeader(pageId) {
            const titles = {
                'dashboard': { title: 'Tableau de Bord', subtitle: 'Vue d\'ensemble de l\'application UmoKet' },
                'users': { title: 'Gestion des Utilisateurs', subtitle: 'G√©rez les comptes utilisateurs de la plateforme' },
                'kyc': { title: 'Validation KYC', subtitle: 'Validez les documents d\'identit√© des vendeurs' },
                'registrations': { title: 'Enregistrements', subtitle: 'Validez les nouveaux comptes utilisateurs' },
                'statistics': { title: 'Statistiques', subtitle: 'Analyses approfondies de l\'activit√©' },
                'benge-profile': { title: 'Profil B√©ng√®', subtitle: 'Gestion du profil vendeur officiel' },
                'admin-rights': { title: 'Droits Admin', subtitle: 'Gestion des administrateurs et permissions' }
            };
            
            const pageInfo = titles[pageId] || { title: 'Page', subtitle: '' };
            document.getElementById('page-title').textContent = pageInfo.title;
            document.getElementById('page-subtitle').textContent = pageInfo.subtitle;
        }

        function loadPageData(pageId) {
            switch(pageId) {
                case 'dashboard':
                    loadDashboardData();
                    break;
                case 'users':
                    loadUsersData();
                    break;
                case 'kyc':
                    loadKycData();
                    break;
                case 'registrations':
                    loadRegistrationsData();
                    break;
                case 'statistics':
                    loadStatisticsData();
                    break;
                case 'admin-rights':
                    loadAdminsData();
                    break;
            }
        }

        function loadDashboardData() {
            // Mettre √† jour les statistiques principales
            document.getElementById('total-users').textContent = mockData.statistics.totalUsers.toLocaleString();
            document.getElementById('active-sellers').textContent = mockData.statistics.totalSellers.toLocaleString();
            document.getElementById('total-orders').textContent = mockData.statistics.totalOrders.toLocaleString();
            document.getElementById('total-revenue').textContent = (mockData.statistics.totalRevenue / 1000000).toFixed(1) + 'M FCFA';
            document.getElementById('pending-kyc').textContent = mockData.kycRequests.length;
            document.getElementById('new-registrations').textContent = mockData.registrations.length;
            document.getElementById('vendors-difficulty').textContent = mockData.statistics.vendorsInDifficulty.length;
            
            // Charger les activit√©s r√©centes
            loadRecentActivities();
            
            // Charger les vendeurs en difficult√©
            loadVendorsInDifficulty();
            
            // Charger les graphiques
            loadUsersChart();
            loadRevenueChart();
        }

        function loadRecentActivities() {
            const tbody = document.getElementById('recent-activities');
            tbody.innerHTML = '';
            
            mockData.statistics.recentActivities.forEach(activity => {
                const row = document.createElement('tr');
                const statusClass = activity.status === 'approved' ? 'status-approved' : 'status-pending';
                const statusText = activity.status === 'approved' ? 'Approuv√©' : 'En attente';
                const typeIcon = {
                    'order': 'üì¶',
                    'product': 'üõçÔ∏è',
                    'kyc': 'üîç',
                    'profile': 'üë§',
                    'social': 'üí¨'
                };
                
                row.innerHTML = `
                    <td>${activity.time}</td>
                    <td>${activity.user}</td>
                    <td>${activity.action}</td>
                    <td>
                        <span class="flex items-center">
                            <span class="mr-2">${typeIcon[activity.type] || 'üìÑ'}</span>
                            ${activity.type.charAt(0).toUpperCase() + activity.type.slice(1)}
                        </span>
                    </td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadVendorsInDifficulty() {
            const container = document.getElementById('vendors-in-difficulty');
            container.innerHTML = '';
            
            mockData.statistics.vendorsInDifficulty.forEach(vendor => {
                const div = document.createElement('div');
                div.className = 'bg-white rounded-lg p-4 border border-red-200';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-semibold text-gray-900">${vendor.name}</h4>
                        <span class="text-xs text-red-600 font-medium">${vendor.daysSinceLastSale} jours</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-2">Derni√®re vente: ${new Date(vendor.lastSale).toLocaleDateString('fr-FR')}</p>
                    <p class="text-sm text-gray-600 mb-3">${vendor.totalProducts} produits en ligne</p>
                    <div class="flex space-x-2">
                        <button onclick="contactVendor(${vendor.id})" class="btn btn-warning text-xs">Contacter</button>
                        <button onclick="viewVendorProfile(${vendor.id})" class="btn btn-secondary text-xs">Voir profil</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function showVendorsInDifficultyModal() {
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.innerHTML = `
                <div class="modal-content relative max-w-4xl">
                    <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                    <h3 class="text-xl font-bold text-gray-900 mb-6">Tous les Vendeurs en Difficult√©</h3>
                    
                    <div class="mb-4 p-4 bg-red-50 border border-red-200 rounded-lg">
                        <p class="text-red-800 font-medium">Crit√®re: Vendeurs sans ventes depuis plus de 25 jours</p>
                        <p class="text-red-600 text-sm mt-1">Ces vendeurs pourraient b√©n√©ficier d'un accompagnement ou d'une mise en avant sp√©ciale.</p>
                    </div>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Vendeur</th>
                                    <th>Derni√®re vente</th>
                                    <th>Jours √©coul√©s</th>
                                    <th>Produits</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${mockData.statistics.vendorsInDifficulty.map(vendor => `
                                    <tr>
                                        <td>${vendor.name}</td>
                                        <td>${new Date(vendor.lastSale).toLocaleDateString('fr-FR')}</td>
                                        <td><span class="status-badge status-rejected">${vendor.daysSinceLastSale} jours</span></td>
                                        <td>${vendor.totalProducts}</td>
                                        <td>
                                            <div class="flex space-x-2">
                                                <button onclick="contactVendor(${vendor.id})" class="btn btn-warning text-xs">Contacter</button>
                                                <button onclick="promoteVendor(${vendor.id})" class="btn btn-success text-xs">Promouvoir</button>
                                            </div>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="mt-6 flex justify-end space-x-3">
                        <button onclick="exportVendorsList()" class="btn btn-primary">Exporter la liste</button>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="btn btn-secondary">Fermer</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function contactVendor(vendorId) {
            showAlert(`Message envoy√© au vendeur ID ${vendorId}`, 'success');
        }

        function viewVendorProfile(vendorId) {
            showAlert(`Ouverture du profil vendeur ID ${vendorId}`, 'success');
        }

        function promoteVendor(vendorId) {
            if (confirm('Mettre en avant ce vendeur dans les recommandations ?')) {
                showAlert(`Vendeur ID ${vendorId} ajout√© aux promotions`, 'success');
            }
        }

        function exportVendorsList() {
            showAlert('Liste des vendeurs en difficult√© export√©e', 'success');
        }

        function loadUsersData() {
            const tbody = document.getElementById('users-table');
            tbody.innerHTML = '';
            
            mockData.users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                <span class="text-sm font-medium">${user.name.charAt(0)}</span>
                            </div>
                            <span class="font-medium">${user.name}</span>
                        </div>
                    </td>
                    <td>${user.email}</td>
                    <td><span class="capitalize">${user.type === 'buyer' ? 'Acheteur' : 'Vendeur'}</span></td>
                    <td><span class="capitalize">${user.plan}</span></td>
                    <td><span class="status-badge status-${user.status}">${user.status === 'active' ? 'Actif' : 'Suspendu'}</span></td>
                    <td>${new Date(user.registrationDate).toLocaleDateString('fr-FR')}</td>
                    <td>
                        <div class="flex space-x-2">
                            <button onclick="viewUser(${user.id})" class="btn btn-primary text-xs">Voir</button>
                            <button onclick="editUser(${user.id})" class="btn btn-warning text-xs">Modifier</button>
                            ${user.status === 'active' ? 
                                `<button onclick="suspendUser(${user.id})" class="btn btn-danger text-xs">Suspendre</button>` :
                                `<button onclick="activateUser(${user.id})" class="btn btn-success text-xs">Activer</button>`
                            }
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadKycData() {
            const container = document.getElementById('kyc-requests');
            container.innerHTML = '';
            
            mockData.kycRequests.forEach(request => {
                const div = document.createElement('div');
                div.className = 'p-4 hover:bg-gray-50 cursor-pointer';
                div.onclick = () => showKycDetails(request.id);
                div.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-medium text-gray-900">${request.name}</p>
                            <p class="text-sm text-gray-600">Soumis le ${new Date(request.submittedDate).toLocaleDateString('fr-FR')}</p>
                        </div>
                        <span class="status-badge status-pending">En attente</span>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function loadRegistrationsData() {
            const tbody = document.getElementById('registrations-table');
            tbody.innerHTML = '';
            
            mockData.registrations.forEach(reg => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${reg.name}</td>
                    <td>${reg.email}</td>
                    <td><span class="capitalize">${reg.type === 'buyer' ? 'Acheteur' : 'Vendeur'}</span></td>
                    <td>${reg.city}</td>
                    <td>${new Date(reg.date).toLocaleDateString('fr-FR')}</td>
                    <td><span class="status-badge status-pending">En attente</span></td>
                    <td>
                        <div class="flex space-x-2">
                            <button onclick="approveRegistration(${reg.id})" class="btn btn-success text-xs">Approuver</button>
                            <button onclick="rejectRegistration(${reg.id})" class="btn btn-danger text-xs">Rejeter</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadStatisticsData() {
            loadUserTypeChart();
            loadOrdersChart();
        }

        function loadAdminsData() {
            const tbody = document.getElementById('admins-table');
            tbody.innerHTML = '';
            
            mockData.admins.forEach(admin => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${admin.name}</td>
                    <td>${admin.email}</td>
                    <td><span class="capitalize">${admin.role.replace('-', ' ')}</span></td>
                    <td>${admin.permissions.join(', ')}</td>
                    <td>${new Date(admin.lastLogin).toLocaleDateString('fr-FR')}</td>
                    <td><span class="status-badge status-${admin.status}">${admin.status === 'active' ? 'Actif' : 'Inactif'}</span></td>
                    <td>
                        <div class="flex space-x-2">
                            <button onclick="editAdmin(${admin.id})" class="btn btn-warning text-xs">Modifier</button>
                            ${admin.id !== 1 ? `<button onclick="deleteAdmin(${admin.id})" class="btn btn-danger text-xs">Supprimer</button>` : ''}
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Fonctions des graphiques
        function loadUsersChart() {
            const ctx = document.getElementById('usersChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'F√©v', 'Mar', 'Avr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Nouveaux utilisateurs',
                        data: [65, 78, 90, 81, 95, 112],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function loadRevenueChart() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'F√©v', 'Mar', 'Avr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Revenus (M FCFA)',
                        data: [2.1, 2.8, 3.2, 2.9, 3.8, 4.2],
                        backgroundColor: '#10b981'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function loadUserTypeChart() {
            const ctx = document.getElementById('userTypeChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Acheteurs', 'Vendeurs', 'Administrateurs'],
                    datasets: [{
                        data: [905, 342, 12],
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        function loadOrdersChart() {
            const ctx = document.getElementById('ordersChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'F√©v', 'Mar', 'Avr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Commandes',
                        data: [450, 520, 680, 590, 750, 890],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Fonctions d'action
        function refreshData() {
            document.getElementById('last-update').textContent = new Date().toLocaleTimeString('fr-FR');
            loadPageData(currentPage);
            showAlert('Donn√©es actualis√©es avec succ√®s', 'success');
        }

        function logout() {
            if (confirm('√ätes-vous s√ªr de vouloir vous d√©connecter ?')) {
                window.location.href = '/';
            }
        }

        function showAlert(message, type = 'success') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            const container = document.querySelector('.main-content .p-6');
            container.insertBefore(alertDiv, container.firstChild);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        // Fonctions de gestion des utilisateurs
        function viewUser(userId) {
            const user = mockData.users.find(u => u.id === userId);
            alert(`D√©tails de ${user.name}:\nEmail: ${user.email}\nType: ${user.type}\nPlan: ${user.plan}`);
        }

        function editUser(userId) {
            alert('Fonction de modification en cours de d√©veloppement');
        }

        function suspendUser(userId) {
            if (confirm('√ätes-vous s√ªr de vouloir suspendre cet utilisateur ?')) {
                const user = mockData.users.find(u => u.id === userId);
                user.status = 'suspended';
                loadUsersData();
                showAlert(`Utilisateur ${user.name} suspendu`, 'warning');
            }
        }

        function activateUser(userId) {
            const user = mockData.users.find(u => u.id === userId);
            user.status = 'active';
            loadUsersData();
            showAlert(`Utilisateur ${user.name} activ√©`, 'success');
        }

        // Fonctions KYC avanc√©es
        function showKycDetails(requestId) {
            const request = mockData.kycRequests.find(r => r.id === requestId);
            const user = mockData.users.find(u => u.id === request.userId);
            const detailsContainer = document.getElementById('kyc-details');
            
            detailsContainer.innerHTML = `
                <div class="p-6">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h4 class="text-lg font-semibold text-gray-900">Demande KYC - ${request.name}</h4>
                            <p class="text-sm text-gray-600">ID Utilisateur: ${request.userId}</p>
                        </div>
                        <span class="status-badge status-pending">En attente de validation</span>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <!-- Informations utilisateur -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-900 mb-3">Informations Utilisateur</h5>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Nom:</span>
                                    <span class="font-medium">${user ? user.name : request.name}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Email:</span>
                                    <span class="font-medium">${user ? user.email : 'N/A'}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Type:</span>
                                    <span class="font-medium">${user ? (user.type === 'seller' ? 'Vendeur' : 'Acheteur') : 'N/A'}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Date de soumission:</span>
                                    <span class="font-medium">${new Date(request.submittedDate).toLocaleDateString('fr-FR')}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Documents fournis:</span>
                                    <span class="font-medium">${request.documents.length}</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Checklist de validation -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-900 mb-3">Checklist de Validation</h5>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" id="check-identity"> 
                                    <span class="text-sm">Pi√®ce d'identit√© valide</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" id="check-photo"> 
                                    <span class="text-sm">Photo claire et lisible</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" id="check-info"> 
                                    <span class="text-sm">Informations coh√©rentes</span>
                                </label>
                                ${request.documents.includes('business-license') ? `
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" id="check-business"> 
                                    <span class="text-sm">Licence commerciale valide</span>
                                </label>
                                ` : ''}
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" id="check-address"> 
                                    <span class="text-sm">Adresse v√©rifi√©e</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Documents -->
                    <div class="mb-6">
                        <h5 class="font-semibold text-gray-900 mb-3">Documents Soumis</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="border rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <p class="text-sm font-medium text-gray-900">Pi√®ce d'identit√©</p>
                                    <button onclick="viewDocument('id-card', ${request.id})" class="text-blue-600 hover:text-blue-800 text-sm">Agrandir</button>
                                </div>
                                <div class="w-full h-40 bg-gray-200 rounded flex items-center justify-center cursor-pointer" onclick="viewDocument('id-card', ${request.id})">
                                    <div class="text-center">
                                        <span class="text-4xl text-gray-500">üÜî</span>
                                        <p class="text-sm text-gray-600 mt-2">Carte d'identit√©</p>
                                    </div>
                                </div>
                            </div>
                            
                            ${request.documents.includes('business-license') ? `
                            <div class="border rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <p class="text-sm font-medium text-gray-900">Licence commerciale</p>
                                    <button onclick="viewDocument('business-license', ${request.id})" class="text-blue-600 hover:text-blue-800 text-sm">Agrandir</button>
                                </div>
                                <div class="w-full h-40 bg-gray-200 rounded flex items-center justify-center cursor-pointer" onclick="viewDocument('business-license', ${request.id})">
                                    <div class="text-center">
                                        <span class="text-4xl text-gray-500">üìÑ</span>
                                        <p class="text-sm text-gray-600 mt-2">Licence commerciale</p>
                                    </div>
                                </div>
                            </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    <!-- Zone de commentaires -->
                    <div class="mb-6">
                        <label class="form-label">Commentaires de validation</label>
                        <textarea class="form-input" rows="3" id="kyc-comments-${request.id}" placeholder="Ajoutez des commentaires sur cette demande KYC..."></textarea>
                    </div>
                    
                    <!-- Actions -->
                    <div class="flex space-x-3 pt-4 border-t">
                        <button onclick="approveKycWithComments(${request.id})" class="btn btn-success">
                            ‚úÖ Approuver la demande
                        </button>
                        <button onclick="rejectKycWithComments(${request.id})" class="btn btn-danger">
                            ‚ùå Rejeter la demande
                        </button>
                        <button onclick="requestMoreInfo(${request.id})" class="btn btn-warning">
                            üìù Demander plus d'informations
                        </button>
                    </div>
                </div>
            `;
        }

        function viewDocument(docType, requestId) {
            // Simuler l'ouverture d'un document en grand format
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.innerHTML = `
                <div class="modal-content relative max-w-4xl">
                    <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                    <h3 class="text-xl font-bold text-gray-900 mb-4">
                        ${docType === 'id-card' ? 'Pi√®ce d\'identit√©' : 'Licence commerciale'}
                    </h3>
                    <div class="bg-gray-100 rounded-lg p-8 text-center">
                        <div class="text-6xl text-gray-400 mb-4">
                            ${docType === 'id-card' ? 'üÜî' : 'üìÑ'}
                        </div>
                        <p class="text-gray-600">Document simul√© - ${docType}</p>
                        <p class="text-sm text-gray-500 mt-2">Dans un environnement r√©el, l'image du document s'afficherait ici</p>
                    </div>
                    <div class="mt-4 flex justify-center space-x-3">
                        <button onclick="downloadDocument('${docType}', ${requestId})" class="btn btn-primary">
                            üì• T√©l√©charger
                        </button>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="btn btn-secondary">
                            Fermer
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function downloadDocument(docType, requestId) {
            showAlert(`T√©l√©chargement du document ${docType} pour la demande ${requestId}`, 'success');
        }

        function approveKycWithComments(requestId) {
            const comments = document.getElementById(`kyc-comments-${requestId}`).value;
            if (confirm('Approuver cette demande KYC ?')) {
                const request = mockData.kycRequests.find(r => r.id === requestId);
                // Simuler l'envoi d'un email de confirmation
                mockData.kycRequests = mockData.kycRequests.filter(r => r.id !== requestId);
                loadKycData();
                document.getElementById('kyc-details').innerHTML = '<div class="p-6 text-center text-gray-500">S√©lectionnez une demande pour voir les d√©tails</div>';
                showAlert(`Demande KYC de ${request.name} approuv√©e avec succ√®s`, 'success');
                
                // Log de l'action admin
                console.log(`KYC approuv√© pour ${request.name} par ${currentAdmin.name}. Commentaires: ${comments}`);
            }
        }

        function rejectKycWithComments(requestId) {
            const comments = document.getElementById(`kyc-comments-${requestId}`).value;
            if (!comments.trim()) {
                showAlert('Veuillez ajouter un commentaire expliquant le rejet', 'error');
                return;
            }
            
            if (confirm('Rejeter cette demande KYC ? L\'utilisateur recevra vos commentaires.')) {
                const request = mockData.kycRequests.find(r => r.id === requestId);
                mockData.kycRequests = mockData.kycRequests.filter(r => r.id !== requestId);
                loadKycData();
                document.getElementById('kyc-details').innerHTML = '<div class="p-6 text-center text-gray-500">S√©lectionnez une demande pour voir les d√©tails</div>';
                showAlert(`Demande KYC de ${request.name} rejet√©e`, 'error');
                
                // Log de l'action admin
                console.log(`KYC rejet√© pour ${request.name} par ${currentAdmin.name}. Raison: ${comments}`);
            }
        }

        function requestMoreInfo(requestId) {
            const comments = document.getElementById(`kyc-comments-${requestId}`).value;
            if (!comments.trim()) {
                showAlert('Veuillez sp√©cifier quelles informations suppl√©mentaires sont n√©cessaires', 'error');
                return;
            }
            
            const request = mockData.kycRequests.find(r => r.id === requestId);
            showAlert(`Demande d'informations suppl√©mentaires envoy√©e √† ${request.name}`, 'warning');
            
            // Log de l'action admin
            console.log(`Informations suppl√©mentaires demand√©es pour ${request.name} par ${currentAdmin.name}. D√©tails: ${comments}`);
        }

        function approveKyc(requestId) {
            if (confirm('Approuver cette demande KYC ?')) {
                mockData.kycRequests = mockData.kycRequests.filter(r => r.id !== requestId);
                loadKycData();
                document.getElementById('kyc-details').innerHTML = '<div class="p-6 text-center text-gray-500">S√©lectionnez une demande pour voir les d√©tails</div>';
                showAlert('Demande KYC approuv√©e', 'success');
            }
        }

        function rejectKyc(requestId) {
            if (confirm('Rejeter cette demande KYC ?')) {
                mockData.kycRequests = mockData.kycRequests.filter(r => r.id !== requestId);
                loadKycData();
                document.getElementById('kyc-details').innerHTML = '<div class="p-6 text-center text-gray-500">S√©lectionnez une demande pour voir les d√©tails</div>';
                showAlert('Demande KYC rejet√©e', 'error');
            }
        }

        // Fonctions d'enregistrement
        function approveRegistration(regId) {
            if (confirm('Approuver cet enregistrement ?')) {
                mockData.registrations = mockData.registrations.filter(r => r.id !== regId);
                loadRegistrationsData();
                showAlert('Enregistrement approuv√©', 'success');
            }
        }

        function rejectRegistration(regId) {
            if (confirm('Rejeter cet enregistrement ?')) {
                mockData.registrations = mockData.registrations.filter(r => r.id !== regId);
                loadRegistrationsData();
                showAlert('Enregistrement rejet√©', 'error');
            }
        }

        // Fonctions de gestion des admins
        function showCreateAdminModal() {
            document.getElementById('create-admin-modal').classList.add('active');
        }

        function closeCreateAdminModal() {
            document.getElementById('create-admin-modal').classList.remove('active');
            document.getElementById('create-admin-form').reset();
        }

        function editAdmin(adminId) {
            alert('Fonction de modification en cours de d√©veloppement');
        }

        function deleteAdmin(adminId) {
            if (confirm('√ätes-vous s√ªr de vouloir supprimer cet administrateur ?')) {
                mockData.admins = mockData.admins.filter(a => a.id !== adminId);
                loadAdminsData();
                showAlert('Administrateur supprim√©', 'success');
            }
        }

        // Gestionnaires d'√©v√©nements
        document.getElementById('create-admin-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('admin-name-input').value;
            const email = document.getElementById('admin-email-input').value;
            const role = document.getElementById('admin-role-input').value;
            const permissions = Array.from(document.querySelectorAll('#create-admin-modal input[type="checkbox"]:checked')).map(cb => cb.value);
            
            const newAdmin = {
                id: mockData.admins.length + 1,
                name: name,
                email: email,
                role: role,
                permissions: permissions,
                lastLogin: new Date().toISOString().split('T')[0],
                status: 'active'
            };
            
            mockData.admins.push(newAdmin);
            loadAdminsData();
            closeCreateAdminModal();
            showAlert(`Administrateur ${name} cr√©√© avec succ√®s`, 'success');
        });

        document.getElementById('benge-profile-form').addEventListener('submit', function(e) {
            e.preventDefault();
            showAlert('Profil B√©ng√® mis √† jour avec succ√®s', 'success');
        });

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            showPage('dashboard');
            document.getElementById('admin-name').textContent = currentAdmin.name;
        });

        // AGENT 6: Interface d'Administration, KYC et Statistiques Globales
        // Objectif: Cr√©er une interface d'administration compl√®te pour UmoKet
        // Fonctionnalit√©s impl√©ment√©es:
        // 1. ‚úÖ Tableau de bord avec statistiques globales
        // 2. ‚úÖ Gestion des utilisateurs (voir, modifier, suspendre/activer)
        // 3. ‚úÖ Validation KYC avec visualisation des documents
        // 4. ‚úÖ Validation des enregistrements
        // 5. ‚úÖ Statistiques d√©taill√©es avec graphiques
        // 6. ‚úÖ Gestion du profil vendeur B√©ng√®
        // 7. ‚úÖ Gestion des droits administrateur
        // 8. ‚úÖ Interface s√©curis√©e avec authentification admin
        // 9. ‚úÖ Graphiques interactifs avec Chart.js
        // 10. ‚úÖ Design responsive et professionnel

    </script>
</body>
</html>

